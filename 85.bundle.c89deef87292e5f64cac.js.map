{"version":3,"file":"85.bundle.c89deef87292e5f64cac.js","mappings":"uJAOA,MAAM,mBAAEA,GAAuBC,EAAAA,GAQ/B,SAASC,EAAkBC,EAAQC,EAAOC,GACxC,MAAO,CACLC,GAAIF,EACJG,OAAQ,kBACRC,MAAO,CACLJ,QACAC,WACAI,SAAU,CACR,CACEC,YAAa,iBACbC,eAAgB,IACXX,EAAmBG,IAExBS,QAAS,iBAKnB,CAEO,MAAMC,EAAuB,CAClCH,YAAa,uBACbC,eAAgB,CACdG,aAAc,CAAC,UAAW,MAAO,iBAmkBrC,EA/jBiC,CAC/B,CACER,GAAI,mBACJC,OAAQ,sBACRC,MAAO,CACLO,eAAe,IAGnB,CACET,GAAI,YACJC,OAAQ,sBACRC,MAAO,CACLO,eAAe,IAGnB,CACET,GAAI,mBACJC,OAAQ,sBACRC,MAAO,CACLO,eAAe,IAKnB,CACET,GAAI,4BACJC,OAAQ,iCACRC,MAAO,CACLQ,SAAU,CACRC,KAAM,qCACNC,kBAAkB,KAIxB,CACEZ,GAAI,oBACJC,OAAQ,yBACRC,MAAO,CACLW,KAAM,SACNC,MAAO,SACPC,QAAS,SACTL,SAAU,CACRC,KAAM,6BACNC,kBAAkB,KAIxB,CACEZ,GAAI,sBACJC,OAAQ,2BACRC,MAAO,CACLW,KAAM,aACNC,MAAO,aACPC,QAAS,qEACTL,SAAU,CACRC,KAAM,+BACNC,kBAAkB,KAIxB,CACEZ,GAAI,iBACJC,OAAQ,sBACRC,MAAO,CACLW,KAAM,iBACNC,MAAO,kBACPC,QAAS,kEACTL,SAAU,CACRC,KAAM,0BACNC,kBAAkB,KAIxB,CACEZ,GAAI,kBACJC,OAAQ,uBACRC,MAAO,CACLW,KAAM,gBACNC,MAAO,eACPC,QAAS,+EACTL,SAAU,6BAGd,CACEV,GAAI,kBACJC,OAAQ,uBACRC,MAAO,CACLW,KAAM,oBACNC,MAAO,cACPC,QAAS,mFACTL,SAAU,CACRC,KAAM,8BAIZ,CACEX,GAAI,kBACJC,OAAQ,uBACRC,MAAO,CACLW,KAAM,cACNC,MAAO,eACPC,QAAS,oEACTL,SAAU,6BAGd,CACEV,GAAI,uBACJC,OAAQ,4BACRC,MAAO,CACLW,KAAM,sBACNC,MAAO,wBACPC,QAAS,kEACTL,SAAU,kCAGd,CACEV,GAAI,gBACJC,OAAQ,qBACRC,MAAO,CACLW,KAAM,YACNC,MAAO,YACPC,QAAS,2BACTL,SAAU,CACRC,KAAM,yBACNC,kBAAkB,KAIxB,CACEZ,GAAI,cACJC,OAAQ,mBACRC,MAAO,CACLW,KAAM,UACNC,MAAO,UACPC,QAAS,yBACTL,SAAU,CACRC,KAAM,uBACNC,kBAAkB,KAIxB,CACEZ,GAAI,WACJC,OAAQ,gBACRC,MAAO,CACLc,KAAM,OACNF,MAAO,aAGXlB,EAAkB,EAAG,cAAe,YACpCA,EAAkB,EAAG,OAAQ,eAC7BA,EAAkB,EAAG,QAAS,YAC9BA,EAAkB,EAAG,OAAQ,cAC7BA,EAAkB,EAAG,QAAS,WAC9B,CACEI,GAAI,cACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,oBACNC,MAAO,eACPC,QAAS,eACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,SACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,cACNC,MAAO,SACPC,QAAS,cACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,gBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,qBACNC,MAAO,gBACPC,QAAS,qBACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,gBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,gBACNC,MAAO,aACPC,QAAS,iBACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,gBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,eACNC,MAAO,UACPC,QAAS,cACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,YACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,cACNC,MAAO,SACPC,QAAS,cACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,oBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,yBACNC,MAAO,eACPC,QAAS,eACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,YACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,uBACNC,MAAO,aACPC,QAAS,aACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,kBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,qBACNC,MAAO,gBACPC,QAAS,gBACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,OACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,YACNC,MAAO,OACPC,QAAS,OACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,MACJC,OAAQ,kBACRC,MAAO,CACLc,KAAM,OACNH,KAAM,YACNC,MAAO,MACPC,QAAS,MACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,MACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,WACNC,MAAO,MACPC,QAAS,MACTZ,SAAU,CACRC,YAAa,wBACbC,eAAgB,CACdY,WAAY,QAGhBP,SAAU,yCAGd,CACEV,GAAI,kBACJC,OAAQ,kBACRC,MAAO,CACLc,KAAM,OACNH,KAAM,iBACNC,MAAO,YACPC,QAAS,YACTZ,SAAUI,IAGd,CACEP,GAAI,UACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,eACNC,MAAO,UACPC,QAAS,UACTZ,SAAU,4BACVO,SAAU,CACR,kBACA,CACEC,KAAM,8BACNO,yBAA0B,CAAC,QAAS,kBAK5C,CACElB,GAAI,SACJC,OAAQ,sBACRC,MAAO,CACLiB,KAAM,EACNC,QAAS,EACTV,SAAU,kBACVP,SAAU,0BAGd,CACEH,GAAI,aACJC,OAAQ,kBACRC,MAAO,CACLc,KAAM,OACNH,KAAM,iBACNC,MAAO,aACPC,QAAS,aACTZ,SAAU,CACRC,YAAa,uBACbC,eAAgB,CACdG,aAAc,CAAC,SAGnBE,SAAU,6BAId,CACEV,GAAI,QACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,aACNC,MAAO,aACPC,QAAS,aACTZ,SAAU,gBACVO,SAAU,oBAGd,CACEV,GAAI,eACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,oBACNC,MAAO,eACPC,QAAS,aACTZ,SAAU,mBACVO,SAAU,oBAGd,CACEV,GAAI,iBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,uBACNC,MAAO,kBACPC,QAAS,oBACTZ,SAAU,yBACVO,SAAU,uCAGd,CACEV,GAAI,iBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,OACNC,MAAO,mBACPC,QAAS,qDACTZ,SAAU,CACRC,YAAa,qBACbC,eAAgB,CACdW,KAAM,eAGVK,UAAW,CACT,CAACC,EAAAA,OAAOC,wBAAyB,CAC/BnB,YAAa,uBACbC,eAAgB,CAAEmB,cAAc,KAGpCd,SAAU,sCAGd,CACEV,GAAI,iBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,sBACNC,MAAO,kBACPC,QAAS,uBACTZ,SAAU,+BACVO,SAAU,oCAGd,CACEV,GAAI,qBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,uBACNC,MAAO,gBACPC,QAAS,uBACTZ,SAAU,+BACVO,SAAU,oCAGd,CACEV,GAAI,cACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,oBACNC,MAAO,eACPC,QAAS,eACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,SACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,cACNC,MAAO,SACPC,QAAS,gBACTZ,SAAU,iBACVO,SAAU,uCAGd,CACEV,GAAI,QACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,aACNC,MAAO,QACPC,QAAS,QACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,OACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,YACNC,MAAO,OACPC,QAAS,OACTZ,SAAU,aACVO,SAAU,kBAGd,CACEV,GAAI,QACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,aACNC,MAAO,QACPC,QAAS,QACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,YACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,uBACNC,MAAO,aACPC,QAAS,aACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,UACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,eACNC,MAAO,UACPC,QAAS,UACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,eACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,iBACNC,MAAO,YACPC,QAAS,YACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,kBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,mBACNC,MAAO,cACPC,QAAS,mBACTZ,SAAUI,EACVG,SAAU,6BAGd,CACEV,GAAI,aACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,oBACNC,MAAO,oBACPC,QAAS,oBACTZ,SAAU,uBAGd,CACEH,GAAI,kBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,kBACNC,MAAO,gBACPC,QAAS,gBACTZ,SAAU,8BACVO,SAAU,uDAGd,CACEV,GAAI,4BACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,qCACNC,MAAO,yBACPC,QAAS,yBACTZ,SAAUI,EACVG,SAAU,CACR,2BACA,CACEC,KAAM,8BACNc,oBAAqB,CAAC,UAK9B,CACEzB,GAAI,oBACJC,OAAQ,kBACRC,MAAO,CACLW,KAAM,0BACNC,MAAO,sBACPC,QAAS,sBACTZ,SAAUI,EACVG,SAAU,8BClmBVV,E,uCAAK0B,GCFLC,EAAU,CACd,aAAc,iBACd,aAAc,mBACd,aAAc,kBAGVC,EAAsB,CAC1BC,MAAO,iBACPC,SAAU,mBACVC,QAAS,kBA2QX,QAPA,SAAwBC,EAAkBC,EAAkBC,IAjQ5D,SAA8BF,EAAkBC,EAAkBC,EAAiBC,GACjF,MAAMC,EAAgBJ,EAAiBK,eACrC,oDAGI,UAAEC,EAAS,MAAEC,GAAUH,EAAcI,QAErCC,EAAQ,CACZC,OAAQ,CACN,CACEC,SAAUL,EAAUM,YACpBC,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcC,WAEhD,CACEL,SAAUL,EAAUW,IACpBJ,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcG,aAEhD,CACEP,SAAUL,EAAUa,KACpBN,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcK,WAAa,CAAEC,eAAgB,KAE/E,CACEV,SAAUL,EAAUgB,YACpBT,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcQ,OAAS,CAAEF,eAAgB,MAG7EG,QAAS,CACP,CAAEb,SAAUL,EAAUmB,QACtB,CACEd,SAAUL,EAAUoB,cACpBC,cAAe,CACbC,gBAAiBA,CAACC,EAAUC,IAC1B5B,EAAgB6B,WAAW,oBAAqB,CAC9CF,WACAC,iBAGJE,mBAAoBA,CAACC,EAAMH,EAAcD,IACvC3B,EAAgB6B,WAAW,oBAAqB,CAC9CF,WACAI,OACAH,mBAIR,CAAEnB,SAAUL,EAAU4B,eACtB,CAAEvB,SAAUL,EAAU6B,WACtB,CAAExB,SAAUL,EAAU8B,OACtB,CAAEzB,SAAUL,EAAU+B,eACtB,CAAE1B,SAAUL,EAAUgC,WACtB,CAAE3B,SAAUL,EAAUiC,cACtB,CAAE5B,SAAUL,EAAUgB,aACtB,CAAEX,SAAUL,EAAUkC,OACtB,CAAE7B,SAAUL,EAAUmC,WACtB,CAAE9B,SAAUL,EAAUoC,SACtB,CAAE/B,SAAUL,EAAUqC,mBACtB,CAAEhC,SAAUL,EAAUsC,uBACtB,CAAEjC,SAAUL,EAAUuC,mBACtB,CAAElC,SAAUL,EAAUwC,WACtB,CAAEnC,SAAUL,EAAUyC,kBAGxBC,QAAS,CAAC,CAAErC,SAAUL,EAAU2C,qBAEhCC,SAAU,CAAC,CAAEvC,SAAUL,EAAU6C,gBAAkB,CAAExC,SAAUL,EAAU8C,mBAG3EnD,EAAiBoD,2BAA2BlD,EAAaM,EAC3D,CA8LE6C,CAAqBtD,EAAkBC,EAAkBC,EAAiB,WA5L5E,SAAyBF,EAAkBC,GACzC,MAAMsD,EAAkBvD,EAAiBK,eACvC,4DAGImD,EAAoBxD,EAAiBK,eACzC,oDAGMC,UAAWmD,GAAgBF,EAAgB/C,SAC7C,UAAEF,EAAS,MAAEC,GAAUiD,EAAkBhD,QACzCC,EAAQ,CACZC,OAAQ,CACN,CACEC,SAAUL,EAAUM,YACpBC,SAAU,CACR,CACEC,YAAaP,EAAMQ,cAAcC,WAIvC,CACEL,SAAUL,EAAUW,IACpBJ,SAAU,CACR,CACEC,YAAaP,EAAMQ,cAAcG,aAIvC,CACEP,SAAUL,EAAUa,KACpBN,SAAU,CACR,CACEC,YAAaP,EAAMQ,cAAcK,WAEnC,CAAEC,eAAgB,KAGtB,CACEV,SAAUL,EAAUgB,YACpBT,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcQ,OAAS,CAAEF,eAAgB,MAG7EG,QAAS,CACP,CAAEb,SAAU8C,EAAYC,UACxB,CAAE/C,SAAU8C,EAAYE,iBACxB,CAAEhD,SAAU8C,EAAYG,iBACxB,CAAEjD,SAAU8C,EAAYI,iBACxB,CAAElD,SAAU8C,EAAYK,aACxB,CAAEnD,SAAUL,EAAUqC,oBAExBK,QAAS,CACP,CACErC,SAAU8C,EAAYM,eACtBlD,SAAU,MAOhBZ,EAAiBoD,2BADG,cACqC5C,EAC3D,CA+HEuD,CAAgBhE,EAAkBC,GA7HpC,SAA0BD,EAAkBC,EAAkBC,GAC5D,MAAME,EAAgBJ,EAAiBK,eACrC,mDAGI4D,EAAiBjE,EAAiBkE,kBAClC,2BAAEC,GAA+BF,EAAeG,UAEhD,UAAE9D,EAAS,MAAEC,GAAUH,EAAcI,QAErCC,EAAQ,CACZC,OAAQ,CACN,CACEC,SAAUL,EAAUM,YACpBC,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcC,WAEhD,CACEL,SAAUL,EAAUW,IACpBJ,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcG,aAEhD,CACEP,SAAUL,EAAUa,KACpBN,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcK,WAAa,CAAEC,eAAgB,KAE/E,CACEV,SAAUL,EAAUgB,YACpBT,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcQ,OAAS,CAAEF,eAAgB,MAG7EG,QAAS,CACP,CAAEb,SAAUL,EAAUmB,QACtB,CACEd,SAAUL,EAAUoB,cACpBC,cAAe,CACbC,gBAAiBA,CAACC,EAAUC,IAC1B5B,EAAgB6B,WAAW,oBAAqB,CAC9CF,WACAC,iBAGJE,mBAAoBA,CAACC,EAAMH,EAAcD,IACvC3B,EAAgB6B,WAAW,oBAAqB,CAC9CF,WACAI,OACAH,mBAIR,CAAEnB,SAAUL,EAAU4B,eACtB,CAAEvB,SAAUL,EAAU6B,WACtB,CAAExB,SAAUL,EAAU8B,OACtB,CAAEzB,SAAUL,EAAU+B,eACtB,CAAE1B,SAAUL,EAAUgC,WACtB,CAAE3B,SAAUL,EAAUiC,cACtB,CAAE5B,SAAUL,EAAUgB,aACtB,CAAEX,SAAUL,EAAUkC,OACtB,CAAE7B,SAAUL,EAAUqC,mBACtB,CAAEhC,SAAUL,EAAUuC,mBACtB,CAAElC,SAAUL,EAAUwC,WACtB,CAAEnC,SAAUL,EAAUyC,kBAExBG,SAAU,CACR,CACEvC,SAAUL,EAAU+D,WACpB1C,cAAe,CACb2C,oBAAoB,EACpBC,QAAS,CACPvB,SAAS,EACTwB,QAAS,IAEXC,sBAAuBC,IACrB,MAAMC,EAAeR,EAA2BS,gBAAgBF,GAC1DG,EAAkBF,GAAcE,gBACtC,OAAIA,EAEAlF,EAAQkF,EAAgB7G,KACxB4B,EAAoBiF,EAAgBC,cACpC,QAGFC,QAAQC,KAAK,oBAAqBN,GAC3B,WAKf,CAAE/D,SAAUL,EAAU6C,kBAO1BlD,EAAiBoD,2BAA2B,MAAO5C,EACrD,CAgCEwE,CAAiBjF,EAAkBC,EAAkBC,GA9BvD,SAA+BF,EAAkBC,GAC/C,MAAMG,EAAgBJ,EAAiBK,eACrC,oDAGI,UAAEC,EAAS,MAAEC,GAAUH,EAAcI,QAErCC,EAAQ,CACZC,OAAQ,CACN,CACEC,SAAUL,EAAU4E,oBACpBrE,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcC,WAEhD,CACEL,SAAUL,EAAUa,KACpBN,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcK,WAAa,CAAEC,eAAgB,KAE/E,CACEV,SAAUL,EAAUW,IACpBJ,SAAU,CAAC,CAAEC,YAAaP,EAAMQ,cAAcG,WAAa,CAAEG,eAAgB,OAKnFpB,EAAiBoD,2BAA2B,WAAY5C,EAC1D,CAME0E,CAAsBnF,EAAkBC,EAC1C,E,eC3QA,MAAMmF,EAAuB,CAAC,MAAO,KAAM,MAAO,YAE5CC,EACI,4DADJA,EAEa,sDAFbA,EAIF,mFAIEC,EACU,0DAGVC,EACU,uEADVA,EAEW,8DAFXA,EAGM,0EAGNC,EACa,sEADbA,EAEe,yEAFfA,EAGM,+DAGNC,EACa,gEADbA,EAEM,yDAGNC,EACa,4DADbA,EAEM,qDAGNC,EACa,wEADbA,EAEM,iEAGNC,EACG,4DAIHC,EACa,0EADbA,EAEM,mEAGNC,EAAwB,CAC5B,0BAA2B,SAC3B,8BAA+B,SAC/B,uCAAwC,SACxC,uCAAwC,SACxC,wCAAyC,SACzC,yCAA0C,SAC1C,4BAA6B,SAC7B,8BAA+B,SAC/B,uBAAwB,UAoO1B,MAMA,EANa,CACX9H,GAAE,EACF+H,YAnOF,WACE,MAAO,CACL/H,GAAE,EACFgI,UAAW,aACXC,YAAaC,EAAAA,EAAKC,EAAE,yBAIpBC,YAAaA,EAAGC,kBAAiBrG,mBAAkBE,sBACjD,MAAM,mBAAEoG,EAAkB,eAAEC,EAAc,iBAAEtG,EAAgB,qBAAEuG,GAC5DH,EAAgBjC,SAElBkC,EAAmBG,oBAGnBC,EAAe1G,EAAkBC,EAAkBC,GAGnDsG,EAAqBG,kBAAkB,CACrC,iEAGFJ,EAAeK,SAASC,GACxB9B,QAAQ+B,MAAM,iBAAkBD,GAChCN,EAAeQ,cAAcR,EAAeS,SAASC,QAAS,CAC5D,mBACA,OACA,mBACA,MACA,UACA,SACA,MACA,aACA,cAGFV,EAAeQ,cAAc,mBAAoB,CAC/C,cACA,cACA,OACA,QACA,OACA,UAGFR,EAAeQ,cAAcR,EAAeS,SAASE,mBAAmBC,QAAS,CAC/E,kBACA,oBAGFZ,EAAeQ,cAAcR,EAAeS,SAASE,mBAAmBE,aAAc,CACpF,8BAGFb,EAAeQ,cAAc,4BAA6B,CACxD,uBACA,WACA,cACA,kBAGFR,EAAeQ,cAAcR,EAAeS,SAASE,mBAAmBG,SAAU,CAChF,oBACA,iBACA,wBAGFd,EAAeQ,cAAcR,EAAeS,SAASE,mBAAmBI,WAAY,CAClF,oBAGFf,EAAeQ,cAAc,mBAAoB,CAC/C,cACA,cACA,OACA,QACA,OACA,UAGFR,EAAeQ,cAAc,mBAAoB,CAC/C,SACA,gBACA,gBACA,gBACA,YACA,oBACA,YACA,oBAGFR,EAAeQ,cAAc,YAAa,CACxC,QACA,eACA,iBACA,iBACA,iBACA,qBACA,cACA,SACA,QACA,OACA,QACA,YACA,UACA,eACA,kBACA,aACA,kBACA,4BACA,sBAGFP,EAAqBG,kBACnB,CACE,sBAAuB,CACrBY,MAAO,CACL,CACEnJ,YAAa,OACbU,MAAO,OACP0I,KAAM,CAAC,UACPC,YAAY,MAKpB,SAGJC,WAAYA,EAAGrB,sBACb,MAAM,iBACJpG,EAAgB,iBAChB0H,EAAgB,oBAChBC,EAAmB,2BACnBzD,EAA0B,gBAC1B0D,EAAe,eACfC,GACEzB,EAAgBjC,SAEpByD,EAAgBE,UAChBD,EAAeE,OACf/H,EAAiBgI,UACjBN,EAAiBM,UACjBL,EAAoBK,UACpB9D,EAA2B8D,WAE7BC,eAAgB,CACdC,MAAO,GACPC,OAAQ,IAGVC,YAAa,UAAU,WAAEC,IAIvB,MAAO,CACLC,QAJsBD,EAAWE,MAAM,MAIdC,OAAOC,IAAwD,IAA5CtD,EAAqBuD,QAAQD,IACtEE,OACHC,YACE,iGAEN,EACAC,OAAQ,CACN,CACEC,KAAM,aACNC,eAAgBA,KACP,CACLhL,GAAIqH,EACJnH,MAAO,CACL+K,WAAY,CAAC1D,GACb2D,oBAAoB,EACpBC,YAAa,CAACvD,EAAmBL,EAAsBD,GACvD8D,qBAAqB,EACrBC,UAAW,CACT,CACEC,UAAW/D,EACXgE,qBAAsB,CACpBlE,EACAI,EACAJ,IAGJ,CACEiE,UAAW9D,EACX+D,qBAAsB,CAAC/D,EAAyBA,IAElD,CACE8D,UAAW7D,EACX8D,qBAAsB,CAAC9D,IAEzB,CACE6D,UAAW5D,EACX6D,qBAAsB,CAAC7D,IAEzB,CACE4D,UAAW3D,EACX4D,qBAAsB,CAAC5D,IAEzB,CACE2D,UAAWzD,EACX0D,qBAAsB,CAAC1D,UAQrC2D,WAAY1D,EACZ2D,gBAAiB,UACjBC,iBAAkB,CAChBjE,EACAE,EACAN,EACAA,EACAK,EACAF,EACAA,GAEFmE,QAAS,CACPhL,KAAM,sBAGZ,EAKEmH,wB","sources":["webpack:///../../../modes/basic-test-mode/src/toolbarButtons.ts","webpack:///../../../modes/basic-test-mode/src/id.js","webpack:///../../../modes/basic-test-mode/src/initToolGroups.ts","webpack:///../../../modes/basic-test-mode/src/index.ts"],"sourcesContent":["// TODO: torn, can either bake this here; or have to create a whole new button type\n// Only ways that you can pass in a custom React component for render :l\nimport type { Button } from '@ohif/core/types';\nimport { EVENTS } from '@cornerstonejs/core';\nimport { ViewportGridService } from '@ohif/core';\n\nimport { defaults } from '@ohif/core';\nconst { windowLevelPresets } = defaults;\n\n/**\n *\n * @param {*} preset - preset number (from above import)\n * @param {*} title\n * @param {*} subtitle\n */\nfunction _createWwwcPreset(preset, title, subtitle) {\n  return {\n    id: title,\n    uiType: 'ohif.toolButton',\n    props: {\n      title,\n      subtitle,\n      commands: [\n        {\n          commandName: 'setWindowLevel',\n          commandOptions: {\n            ...windowLevelPresets[preset],\n          },\n          context: 'CORNERSTONE',\n        },\n      ],\n    },\n  };\n}\n\nexport const setToolActiveToolbar = {\n  commandName: 'setToolActiveToolbar',\n  commandOptions: {\n    toolGroupIds: ['default', 'mpr', 'SRToolGroup'],\n  },\n};\n\nconst toolbarButtons: Button[] = [\n  {\n    id: 'MeasurementTools',\n    uiType: 'ohif.toolButtonList',\n    props: {\n      buttonSection: true,\n    },\n  },\n  {\n    id: 'MoreTools',\n    uiType: 'ohif.toolButtonList',\n    props: {\n      buttonSection: true,\n    },\n  },\n  {\n    id: 'WindowLevelGroup',\n    uiType: 'ohif.toolButtonList',\n    props: {\n      buttonSection: true,\n    },\n  },\n\n  // tool defs\n  {\n    id: 'advancedRenderingControls',\n    uiType: 'ohif.advancedRenderingControls',\n    props: {\n      evaluate: {\n        name: 'evaluate.advancedRenderingControls',\n        hideWhenDisabled: true,\n      },\n    },\n  },\n  {\n    id: 'modalityLoadBadge',\n    uiType: 'ohif.modalityLoadBadge',\n    props: {\n      icon: 'Status',\n      label: 'Status',\n      tooltip: 'Status',\n      evaluate: {\n        name: 'evaluate.modalityLoadBadge',\n        hideWhenDisabled: true,\n      },\n    },\n  },\n  {\n    id: 'navigationComponent',\n    uiType: 'ohif.navigationComponent',\n    props: {\n      icon: 'Navigation',\n      label: 'Navigation',\n      tooltip: 'Navigate between segments/measurements and manage their visibility',\n      evaluate: {\n        name: 'evaluate.navigationComponent',\n        hideWhenDisabled: true,\n      },\n    },\n  },\n  {\n    id: 'trackingStatus',\n    uiType: 'ohif.trackingStatus',\n    props: {\n      icon: 'TrackingStatus',\n      label: 'Tracking Status',\n      tooltip: 'View and manage tracking status of measurements and annotations',\n      evaluate: {\n        name: 'evaluate.trackingStatus',\n        hideWhenDisabled: true,\n      },\n    },\n  },\n  {\n    id: 'dataOverlayMenu',\n    uiType: 'ohif.dataOverlayMenu',\n    props: {\n      icon: 'ViewportViews',\n      label: 'Data Overlay',\n      tooltip: 'Configure data overlay options and manage foreground/background display sets',\n      evaluate: 'evaluate.dataOverlayMenu',\n    },\n  },\n  {\n    id: 'orientationMenu',\n    uiType: 'ohif.orientationMenu',\n    props: {\n      icon: 'OrientationSwitch',\n      label: 'Orientation',\n      tooltip: 'Change viewport orientation between axial, sagittal, coronal and reformat planes',\n      evaluate: {\n        name: 'evaluate.orientationMenu',\n      },\n    },\n  },\n  {\n    id: 'windowLevelMenu',\n    uiType: 'ohif.windowLevelMenu',\n    props: {\n      icon: 'WindowLevel',\n      label: 'Window Level',\n      tooltip: 'Adjust window/level presets and customize image contrast settings',\n      evaluate: 'evaluate.windowLevelMenu',\n    },\n  },\n  {\n    id: 'voiManualControlMenu',\n    uiType: 'ohif.voiManualControlMenu',\n    props: {\n      icon: 'WindowLevelAdvanced',\n      label: 'Advanced Window Level',\n      tooltip: 'Advanced window/level settings with manual controls and presets',\n      evaluate: 'evaluate.voiManualControlMenu',\n    },\n  },\n  {\n    id: 'thresholdMenu',\n    uiType: 'ohif.thresholdMenu',\n    props: {\n      icon: 'Threshold',\n      label: 'Threshold',\n      tooltip: 'Image threshold settings',\n      evaluate: {\n        name: 'evaluate.thresholdMenu',\n        hideWhenDisabled: true,\n      },\n    },\n  },\n  {\n    id: 'opacityMenu',\n    uiType: 'ohif.opacityMenu',\n    props: {\n      icon: 'Opacity',\n      label: 'Opacity',\n      tooltip: 'Image opacity settings',\n      evaluate: {\n        name: 'evaluate.opacityMenu',\n        hideWhenDisabled: true,\n      },\n    },\n  },\n  {\n    id: 'Colorbar',\n    uiType: 'ohif.colorbar',\n    props: {\n      type: 'tool',\n      label: 'Colorbar',\n    },\n  },\n  _createWwwcPreset(1, 'Soft tissue', '400 / 40'),\n  _createWwwcPreset(2, 'Lung', '1500 / -600'),\n  _createWwwcPreset(3, 'Liver', '150 / 90'),\n  _createWwwcPreset(4, 'Bone', '2500 / 480'),\n  _createWwwcPreset(5, 'Brain', '80 / 40'),\n  {\n    id: 'WindowLevel',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-window-level',\n      label: 'Window Level',\n      tooltip: 'Window Level',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'Length',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-length',\n      label: 'Length',\n      tooltip: 'Length Tool',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'Bidirectional',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-bidirectional',\n      label: 'Bidirectional',\n      tooltip: 'Bidirectional Tool',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'ArrowAnnotate',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-annotate',\n      label: 'Annotation',\n      tooltip: 'Arrow Annotate',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'EllipticalROI',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-ellipse',\n      label: 'Ellipse',\n      tooltip: 'Ellipse ROI',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'CircleROI',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-circle',\n      label: 'Circle',\n      tooltip: 'Circle Tool',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'PlanarFreehandROI',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-tool-freehand-roi',\n      label: 'Freehand ROI',\n      tooltip: 'Freehand ROI',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'SplineROI',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-tool-spline-roi',\n      label: 'Spline ROI',\n      tooltip: 'Spline ROI',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'LivewireContour',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-tool-livewire',\n      label: 'Livewire tool',\n      tooltip: 'Livewire tool',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'Zoom',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-zoom',\n      label: 'Zoom',\n      tooltip: 'Zoom',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'Pan',\n    uiType: 'ohif.toolButton',\n    props: {\n      type: 'tool',\n      icon: 'tool-move',\n      label: 'Pan',\n      tooltip: 'Pan',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'MPR',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-mpr',\n      label: 'MPR',\n      tooltip: 'MPR',\n      commands: {\n        commandName: 'toggleHangingProtocol',\n        commandOptions: {\n          protocolId: 'mpr',\n        },\n      },\n      evaluate: 'evaluate.displaySetIsReconstructable',\n    },\n  },\n  {\n    id: 'TrackBallRotate',\n    uiType: 'ohif.toolButton',\n    props: {\n      type: 'tool',\n      icon: 'tool-3d-rotate',\n      label: '3D Rotate',\n      tooltip: '3D Rotate',\n      commands: setToolActiveToolbar,\n    },\n  },\n  {\n    id: 'Capture',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-capture',\n      label: 'Capture',\n      tooltip: 'Capture',\n      commands: 'showDownloadViewportModal',\n      evaluate: [\n        'evaluate.action',\n        {\n          name: 'evaluate.viewport.supported',\n          unsupportedViewportTypes: ['video', 'wholeSlide'],\n        },\n      ],\n    },\n  },\n  {\n    id: 'Layout',\n    uiType: 'ohif.layoutSelector',\n    props: {\n      rows: 3,\n      columns: 4,\n      evaluate: 'evaluate.action',\n      commands: 'setViewportGridLayout',\n    },\n  },\n  {\n    id: 'Crosshairs',\n    uiType: 'ohif.toolButton',\n    props: {\n      type: 'tool',\n      icon: 'tool-crosshair',\n      label: 'Crosshairs',\n      tooltip: 'Crosshairs',\n      commands: {\n        commandName: 'setToolActiveToolbar',\n        commandOptions: {\n          toolGroupIds: ['mpr'],\n        },\n      },\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n\n  {\n    id: 'Reset',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-reset',\n      label: 'Reset View',\n      tooltip: 'Reset View',\n      commands: 'resetViewport',\n      evaluate: 'evaluate.action',\n    },\n  },\n  {\n    id: 'rotate-right',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-rotate-right',\n      label: 'Rotate Right',\n      tooltip: 'Rotate +90',\n      commands: 'rotateViewportCW',\n      evaluate: 'evaluate.action',\n    },\n  },\n  {\n    id: 'flipHorizontal',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-flip-horizontal',\n      label: 'Flip Horizontal',\n      tooltip: 'Flip Horizontally',\n      commands: 'flipViewportHorizontal',\n      evaluate: 'evaluate.viewportProperties.toggle',\n    },\n  },\n  {\n    id: 'ImageSliceSync',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'link',\n      label: 'Image Slice Sync',\n      tooltip: 'Enable position synchronization on stack viewports',\n      commands: {\n        commandName: 'toggleSynchronizer',\n        commandOptions: {\n          type: 'imageSlice',\n        },\n      },\n      listeners: {\n        [EVENTS.VIEWPORT_NEW_IMAGE_SET]: {\n          commandName: 'toggleImageSliceSync',\n          commandOptions: { toggledState: true },\n        },\n      },\n      evaluate: 'evaluate.cornerstone.synchronizer',\n    },\n  },\n  {\n    id: 'ReferenceLines',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-referenceLines',\n      label: 'Reference Lines',\n      tooltip: 'Show Reference Lines',\n      commands: 'toggleEnabledDisabledToolbar',\n      evaluate: 'evaluate.cornerstoneTool.toggle',\n    },\n  },\n  {\n    id: 'ImageOverlayViewer',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'toggle-dicom-overlay',\n      label: 'Image Overlay',\n      tooltip: 'Toggle Image Overlay',\n      commands: 'toggleEnabledDisabledToolbar',\n      evaluate: 'evaluate.cornerstoneTool.toggle',\n    },\n  },\n  {\n    id: 'StackScroll',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-stack-scroll',\n      label: 'Stack Scroll',\n      tooltip: 'Stack Scroll',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'invert',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-invert',\n      label: 'Invert',\n      tooltip: 'Invert Colors',\n      commands: 'invertViewport',\n      evaluate: 'evaluate.viewportProperties.toggle',\n    },\n  },\n  {\n    id: 'Probe',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-probe',\n      label: 'Probe',\n      tooltip: 'Probe',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'Cine',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-cine',\n      label: 'Cine',\n      tooltip: 'Cine',\n      commands: 'toggleCine',\n      evaluate: 'evaluate.cine',\n    },\n  },\n  {\n    id: 'Angle',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-angle',\n      label: 'Angle',\n      tooltip: 'Angle',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'CobbAngle',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-tool-cobb-angle',\n      label: 'Cobb Angle',\n      tooltip: 'Cobb Angle',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'Magnify',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-magnify',\n      label: 'Zoom-in',\n      tooltip: 'Zoom-in',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'RectangleROI',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-rectangle',\n      label: 'Rectangle',\n      tooltip: 'Rectangle',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'CalibrationLine',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'tool-calibration',\n      label: 'Calibration',\n      tooltip: 'Calibration Line',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n  {\n    id: 'TagBrowser',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'dicom-tag-browser',\n      label: 'Dicom Tag Browser',\n      tooltip: 'Dicom Tag Browser',\n      commands: 'openDICOMTagViewer',\n    },\n  },\n  {\n    id: 'AdvancedMagnify',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-tool-loupe',\n      label: 'Magnify Probe',\n      tooltip: 'Magnify Probe',\n      commands: 'toggleActiveDisabledToolbar',\n      evaluate: 'evaluate.cornerstoneTool.toggle.ifStrictlyDisabled',\n    },\n  },\n  {\n    id: 'UltrasoundDirectionalTool',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-tool-ultrasound-bidirectional',\n      label: 'Ultrasound Directional',\n      tooltip: 'Ultrasound Directional',\n      commands: setToolActiveToolbar,\n      evaluate: [\n        'evaluate.cornerstoneTool',\n        {\n          name: 'evaluate.modality.supported',\n          supportedModalities: ['US'],\n        },\n      ],\n    },\n  },\n  {\n    id: 'WindowLevelRegion',\n    uiType: 'ohif.toolButton',\n    props: {\n      icon: 'icon-tool-window-region',\n      label: 'Window Level Region',\n      tooltip: 'Window Level Region',\n      commands: setToolActiveToolbar,\n      evaluate: 'evaluate.cornerstoneTool',\n    },\n  },\n];\n\nexport default toolbarButtons;\n","import packageJson from '../package.json';\n\nconst id = packageJson.name;\n\nexport { id };\n","const colours = {\n  'viewport-0': 'rgb(200, 0, 0)',\n  'viewport-1': 'rgb(200, 200, 0)',\n  'viewport-2': 'rgb(0, 200, 0)',\n};\n\nconst colorsByOrientation = {\n  axial: 'rgb(200, 0, 0)',\n  sagittal: 'rgb(200, 200, 0)',\n  coronal: 'rgb(0, 200, 0)',\n};\n\nfunction initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, toolGroupId) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }, { numTouchPoints: 2 }],\n      },\n      {\n        toolName: toolNames.StackScroll,\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }, { numTouchPoints: 3 }],\n      },\n    ],\n    passive: [\n      { toolName: toolNames.Length },\n      {\n        toolName: toolNames.ArrowAnnotate,\n        configuration: {\n          getTextCallback: (callback, eventDetails) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              eventDetails,\n            }),\n\n          changeTextCallback: (data, eventDetails, callback) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              data,\n              eventDetails,\n            }),\n        },\n      },\n      { toolName: toolNames.Bidirectional },\n      { toolName: toolNames.DragProbe },\n      { toolName: toolNames.Probe },\n      { toolName: toolNames.EllipticalROI },\n      { toolName: toolNames.CircleROI },\n      { toolName: toolNames.RectangleROI },\n      { toolName: toolNames.StackScroll },\n      { toolName: toolNames.Angle },\n      { toolName: toolNames.CobbAngle },\n      { toolName: toolNames.Magnify },\n      { toolName: toolNames.WindowLevelRegion },\n      { toolName: toolNames.UltrasoundDirectional },\n      { toolName: toolNames.PlanarFreehandROI },\n      { toolName: toolNames.SplineROI },\n      { toolName: toolNames.LivewireContour },\n    ],\n    // enabled\n    enabled: [{ toolName: toolNames.ImageOverlayViewer }],\n    // disabled\n    disabled: [{ toolName: toolNames.ReferenceLines }, { toolName: toolNames.AdvancedMagnify }],\n  };\n\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\n}\n\nfunction initSRToolGroup(extensionManager, toolGroupService, commandsManager) {\n  const SRUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone-dicom-sr.utilityModule.tools'\n  );\n\n  const CS3DUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames: SRToolNames } = SRUtilityModule.exports;\n  const { toolNames, Enums } = CS3DUtilityModule.exports;\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Primary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Auxiliary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Secondary,\n          },\n          { numTouchPoints: 2 },\n        ],\n      },\n      {\n        toolName: toolNames.StackScroll,\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }, { numTouchPoints: 3 }],\n      },\n    ],\n    passive: [\n      { toolName: SRToolNames.SRLength },\n      { toolName: SRToolNames.SRArrowAnnotate },\n      { toolName: SRToolNames.SRBidirectional },\n      { toolName: SRToolNames.SREllipticalROI },\n      { toolName: SRToolNames.SRCircleROI },\n      { toolName: toolNames.WindowLevelRegion },\n    ],\n    enabled: [\n      {\n        toolName: SRToolNames.DICOMSRDisplay,\n        bindings: [],\n      },\n    ],\n    // disabled\n  };\n\n  const toolGroupId = 'SRToolGroup';\n  toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\n}\n\nfunction initMPRToolGroup(extensionManager, toolGroupService, commandsManager) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const serviceManager = extensionManager._servicesManager;\n  const { cornerstoneViewportService } = serviceManager.services;\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }, { numTouchPoints: 2 }],\n      },\n      {\n        toolName: toolNames.StackScroll,\n        bindings: [{ mouseButton: Enums.MouseBindings.Wheel }, { numTouchPoints: 3 }],\n      },\n    ],\n    passive: [\n      { toolName: toolNames.Length },\n      {\n        toolName: toolNames.ArrowAnnotate,\n        configuration: {\n          getTextCallback: (callback, eventDetails) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              eventDetails,\n            }),\n\n          changeTextCallback: (data, eventDetails, callback) =>\n            commandsManager.runCommand('arrowTextCallback', {\n              callback,\n              data,\n              eventDetails,\n            }),\n        },\n      },\n      { toolName: toolNames.Bidirectional },\n      { toolName: toolNames.DragProbe },\n      { toolName: toolNames.Probe },\n      { toolName: toolNames.EllipticalROI },\n      { toolName: toolNames.CircleROI },\n      { toolName: toolNames.RectangleROI },\n      { toolName: toolNames.StackScroll },\n      { toolName: toolNames.Angle },\n      { toolName: toolNames.WindowLevelRegion },\n      { toolName: toolNames.PlanarFreehandROI },\n      { toolName: toolNames.SplineROI },\n      { toolName: toolNames.LivewireContour },\n    ],\n    disabled: [\n      {\n        toolName: toolNames.Crosshairs,\n        configuration: {\n          viewportIndicators: false,\n          autoPan: {\n            enabled: false,\n            panSize: 10,\n          },\n          getReferenceLineColor: viewportId => {\n            const viewportInfo = cornerstoneViewportService.getViewportInfo(viewportId);\n            const viewportOptions = viewportInfo?.viewportOptions;\n            if (viewportOptions) {\n              return (\n                colours[viewportOptions.id] ||\n                colorsByOrientation[viewportOptions.orientation] ||\n                '#0c0'\n              );\n            } else {\n              console.warn('missing viewport?', viewportId);\n              return '#0c0';\n            }\n          },\n        },\n      },\n      { toolName: toolNames.ReferenceLines },\n    ],\n\n    // enabled\n    // disabled\n  };\n\n  toolGroupService.createToolGroupAndAddTools('mpr', tools);\n}\n\nfunction initVolume3DToolGroup(extensionManager, toolGroupService) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.TrackballRotateTool,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }, { numTouchPoints: 2 }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }, { numTouchPoints: 3 }],\n      },\n    ],\n  };\n\n  toolGroupService.createToolGroupAndAddTools('volume3d', tools);\n}\n\nfunction initToolGroups(extensionManager, toolGroupService, commandsManager) {\n  initDefaultToolGroup(extensionManager, toolGroupService, commandsManager, 'default');\n  initSRToolGroup(extensionManager, toolGroupService, commandsManager);\n  initMPRToolGroup(extensionManager, toolGroupService, commandsManager);\n  initVolume3DToolGroup(extensionManager, toolGroupService);\n}\n\nexport default initToolGroups;\n","import toolbarButtons from './toolbarButtons';\nimport { id } from './id';\nimport initToolGroups from './initToolGroups';\nimport i18n from 'i18next';\n\n// Allow this mode by excluding non-imaging modalities such as SR, SEG\n// Also, SM is not a simple imaging modalities, so exclude it.\nconst NON_IMAGE_MODALITIES = ['ECG', 'SR', 'SEG', 'RTSTRUCT'];\n\nconst ohif = {\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\n  wsiSopClassHandler:\n    '@ohif/extension-cornerstone.sopClassHandlerModule.DicomMicroscopySopClassHandler',\n  thumbnailList: '@ohif/extension-default.panelModule.seriesList',\n};\n\nconst testExtension = {\n  measurements: '@ohif/extension-test.panelModule.panelMeasurementSeries',\n};\n\nconst tracked = {\n  measurements: '@ohif/extension-measurement-tracking.panelModule.trackedMeasurements',\n  thumbnailList: '@ohif/extension-measurement-tracking.panelModule.seriesList',\n  viewport: '@ohif/extension-measurement-tracking.viewportModule.cornerstone-tracked',\n};\n\nconst dicomsr = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\n  sopClassHandler3D: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr-3d',\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\n};\n\nconst dicomvideo = {\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\n};\n\nconst dicompdf = {\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\n};\n\nconst dicomSeg = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-seg.sopClassHandlerModule.dicom-seg',\n  viewport: '@ohif/extension-cornerstone-dicom-seg.viewportModule.dicom-seg',\n};\n\nconst cornerstone = {\n  panel: '@ohif/extension-cornerstone.panelModule.panelSegmentation',\n  measurements: '@ohif/extension-cornerstone.panelModule.panelMeasurement',\n};\n\nconst dicomPmap = {\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-pmap.sopClassHandlerModule.dicom-pmap',\n  viewport: '@ohif/extension-cornerstone-dicom-pmap.viewportModule.dicom-pmap',\n};\n\nconst extensionDependencies = {\n  '@ohif/extension-default': '^3.0.0',\n  '@ohif/extension-cornerstone': '^3.0.0',\n  '@ohif/extension-measurement-tracking': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-seg': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-pmap': '^3.0.0',\n  '@ohif/extension-dicom-pdf': '^3.0.1',\n  '@ohif/extension-dicom-video': '^3.0.1',\n  '@ohif/extension-test': '^0.0.1',\n};\n\nfunction modeFactory() {\n  return {\n    id,\n    routeName: 'basic-test',\n    displayName: i18n.t('Modes:Basic Test Mode'),\n    /**\n     * Lifecycle hooks\n     */\n    onModeEnter: ({ servicesManager, extensionManager, commandsManager }: withAppTypes) => {\n      const { measurementService, toolbarService, toolGroupService, customizationService } =\n        servicesManager.services;\n\n      measurementService.clearMeasurements();\n\n      // Init Default and SR ToolGroups\n      initToolGroups(extensionManager, toolGroupService, commandsManager);\n\n      // init customizations\n      customizationService.setCustomizations([\n        '@ohif/extension-test.customizationModule.custom-context-menu',\n      ]);\n\n      toolbarService.register(toolbarButtons);\n      console.debug('toolbarButtons', toolbarButtons);\n      toolbarService.updateSection(toolbarService.sections.primary, [\n        'MeasurementTools',\n        'Zoom',\n        'WindowLevelGroup',\n        'Pan',\n        'Capture',\n        'Layout',\n        'MPR',\n        'Crosshairs',\n        'MoreTools',\n      ]);\n\n      toolbarService.updateSection('WindowLevelGroup', [\n        'WindowLevel',\n        'Soft tissue',\n        'Lung',\n        'Liver',\n        'Bone',\n        'Brain',\n      ]);\n\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.topLeft, [\n        'orientationMenu',\n        'dataOverlayMenu',\n      ]);\n\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.bottomMiddle, [\n        'AdvancedRenderingControls',\n      ]);\n\n      toolbarService.updateSection('AdvancedRenderingControls', [\n        'voiManualControlMenu',\n        'Colorbar',\n        'opacityMenu',\n        'thresholdMenu',\n      ]);\n\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.topRight, [\n        'modalityLoadBadge',\n        'trackingStatus',\n        'navigationComponent',\n      ]);\n\n      toolbarService.updateSection(toolbarService.sections.viewportActionMenu.bottomLeft, [\n        'windowLevelMenu',\n      ]);\n\n      toolbarService.updateSection('WindowLevelGroup', [\n        'WindowLevel',\n        'Soft tissue',\n        'Lung',\n        'Liver',\n        'Bone',\n        'Brain',\n      ]);\n\n      toolbarService.updateSection('MeasurementTools', [\n        'Length',\n        'Bidirectional',\n        'ArrowAnnotate',\n        'EllipticalROI',\n        'CircleROI',\n        'PlanarFreehandROI',\n        'SplineROI',\n        'LivewireContour',\n      ]);\n\n      toolbarService.updateSection('MoreTools', [\n        'Reset',\n        'rotate-right',\n        'flipHorizontal',\n        'ImageSliceSync',\n        'ReferenceLines',\n        'ImageOverlayViewer',\n        'StackScroll',\n        'invert',\n        'Probe',\n        'Cine',\n        'Angle',\n        'CobbAngle',\n        'Magnify',\n        'RectangleROI',\n        'CalibrationLine',\n        'TagBrowser',\n        'AdvancedMagnify',\n        'UltrasoundDirectionalTool',\n        'WindowLevelRegion',\n      ]);\n\n      customizationService.setCustomizations(\n        {\n          'ohif.hotkeyBindings': {\n            $push: [\n              {\n                commandName: 'undo',\n                label: 'Undo',\n                keys: ['ctrl+z'],\n                isEditable: true,\n              },\n            ],\n          },\n        },\n        'mode'\n      );\n    },\n    onModeExit: ({ servicesManager }: withAppTypes) => {\n      const {\n        toolGroupService,\n        syncGroupService,\n        segmentationService,\n        cornerstoneViewportService,\n        uiDialogService,\n        uiModalService,\n      } = servicesManager.services;\n\n      uiDialogService.hideAll();\n      uiModalService.hide();\n      toolGroupService.destroy();\n      syncGroupService.destroy();\n      segmentationService.destroy();\n      cornerstoneViewportService.destroy();\n    },\n    validationTags: {\n      study: [],\n      series: [],\n    },\n\n    isValidMode: function ({ modalities }) {\n      const modalities_list = modalities.split('\\\\');\n\n      // Exclude non-image modalities\n      return {\n        valid: !!modalities_list.filter(modality => NON_IMAGE_MODALITIES.indexOf(modality) === -1)\n          .length,\n        description:\n          'The mode does not support studies that ONLY include the following modalities: SM, ECG, SR, SEG',\n      };\n    },\n    routes: [\n      {\n        path: 'basic-test',\n        layoutTemplate: () => {\n          return {\n            id: ohif.layout,\n            props: {\n              leftPanels: [tracked.thumbnailList],\n              leftPanelResizable: true,\n              rightPanels: [cornerstone.panel, tracked.measurements, testExtension.measurements],\n              rightPanelResizable: true,\n              viewports: [\n                {\n                  namespace: tracked.viewport,\n                  displaySetsToDisplay: [\n                    ohif.sopClassHandler,\n                    dicomvideo.sopClassHandler,\n                    ohif.wsiSopClassHandler,\n                  ],\n                },\n                {\n                  namespace: dicomsr.viewport,\n                  displaySetsToDisplay: [dicomsr.sopClassHandler, dicomsr.sopClassHandler3D],\n                },\n                {\n                  namespace: dicomvideo.viewport,\n                  displaySetsToDisplay: [dicomvideo.sopClassHandler],\n                },\n                {\n                  namespace: dicompdf.viewport,\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\n                },\n                {\n                  namespace: dicomSeg.viewport,\n                  displaySetsToDisplay: [dicomSeg.sopClassHandler],\n                },\n                {\n                  namespace: dicomPmap.viewport,\n                  displaySetsToDisplay: [dicomPmap.sopClassHandler],\n                },\n              ],\n            },\n          };\n        },\n      },\n    ],\n    extensions: extensionDependencies,\n    hangingProtocol: 'default',\n    sopClassHandlers: [\n      dicomvideo.sopClassHandler,\n      dicomSeg.sopClassHandler,\n      ohif.wsiSopClassHandler,\n      ohif.sopClassHandler,\n      dicompdf.sopClassHandler,\n      dicomsr.sopClassHandler,\n      dicomsr.sopClassHandler3D,\n    ],\n    hotkeys: {\n      name: 'basic-test-hotkeys',\n    },\n  };\n}\n\nconst mode = {\n  id,\n  modeFactory,\n  extensionDependencies,\n};\n\nexport default mode;\n"],"names":["windowLevelPresets","defaults","_createWwwcPreset","preset","title","subtitle","id","uiType","props","commands","commandName","commandOptions","context","setToolActiveToolbar","toolGroupIds","buttonSection","evaluate","name","hideWhenDisabled","icon","label","tooltip","type","protocolId","unsupportedViewportTypes","rows","columns","listeners","EVENTS","VIEWPORT_NEW_IMAGE_SET","toggledState","supportedModalities","packageJson","colours","colorsByOrientation","axial","sagittal","coronal","extensionManager","toolGroupService","commandsManager","toolGroupId","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","toolName","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","numTouchPoints","StackScroll","Wheel","passive","Length","ArrowAnnotate","configuration","getTextCallback","callback","eventDetails","runCommand","changeTextCallback","data","Bidirectional","DragProbe","Probe","EllipticalROI","CircleROI","RectangleROI","Angle","CobbAngle","Magnify","WindowLevelRegion","UltrasoundDirectional","PlanarFreehandROI","SplineROI","LivewireContour","enabled","ImageOverlayViewer","disabled","ReferenceLines","AdvancedMagnify","createToolGroupAndAddTools","initDefaultToolGroup","SRUtilityModule","CS3DUtilityModule","SRToolNames","SRLength","SRArrowAnnotate","SRBidirectional","SREllipticalROI","SRCircleROI","DICOMSRDisplay","initSRToolGroup","serviceManager","_servicesManager","cornerstoneViewportService","services","Crosshairs","viewportIndicators","autoPan","panSize","getReferenceLineColor","viewportId","viewportInfo","getViewportInfo","viewportOptions","orientation","console","warn","initMPRToolGroup","TrackballRotateTool","initVolume3DToolGroup","NON_IMAGE_MODALITIES","ohif","testExtension","tracked","dicomsr","dicomvideo","dicompdf","dicomSeg","cornerstone","dicomPmap","extensionDependencies","modeFactory","routeName","displayName","i18n","t","onModeEnter","servicesManager","measurementService","toolbarService","customizationService","clearMeasurements","initToolGroups","setCustomizations","register","toolbarButtons","debug","updateSection","sections","primary","viewportActionMenu","topLeft","bottomMiddle","topRight","bottomLeft","$push","keys","isEditable","onModeExit","syncGroupService","segmentationService","uiDialogService","uiModalService","hideAll","hide","destroy","validationTags","study","series","isValidMode","modalities","valid","split","filter","modality","indexOf","length","description","routes","path","layoutTemplate","leftPanels","leftPanelResizable","rightPanels","rightPanelResizable","viewports","namespace","displaySetsToDisplay","extensions","hangingProtocol","sopClassHandlers","hotkeys"],"sourceRoot":""}